<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Realidad Aumentada</title>
	<meta name="description" content="Hello, World! - A-Frame">
	<link rel="stylesheet" type="text/css" href="styles/styleApp.css"/>
	<link rel="shortcut icon" type="image/png" href="imagenes/favicon.png"/>

	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
	<!--<script src="/aframe.min.js"></script>-->
	<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	
	<script src="js/funcionamiento.js"></script>
	
	<!--NO USADO-->
	<!--
	<script>

		AFRAME.registerComponent('cursor-listener', {
			init: function () {
				var lastIndex = -1;
				var COLORS = ['red', 'green', 'blue', 'gray', 'pink', 'white', 'lime'];
				this.el.addEventListener('click', function (evt) {
					lastIndex = (lastIndex + 1) % COLORS.length;
					this.setAttribute('material', 'color', COLORS[lastIndex]);
					console.log('I was clicked at: ', evt.detail.intersection.point);
				});
			}
		})

		AFRAME.registerComponent('audiohandler2', {
			init: function () {

				let active = Array.prototype.slice.call(document.getElementsByClassName("sonidoTactil")).filter(x => x.object3D.visible);
				this.el.addEventListener('click', () => {
					active[0].object3D.children[0].el.components.sound.stopSound();
					active[0].object3D.children[0].el.components.sound.playSound();
				})
			}
		})
	</script>
	-->


</head>

<body style='margin : 0px; overflow: hidden;'>
	<!-- embedded arjs='sourceType: webcam; debugUIEnabled: false;' 
	embedded artoolkit='sourceType: webcam; cursor="rayOrigin: mouse"
	sourceWidth:1366; sourceHeight:768; displayWidth: 1366; displayHeight: 768;
	-->
	<a-scene
		arjs='sourceType: webcam; debugUIEnabled: false;'
		vr-mode-ui="enabled: false">
		
		<a-assets>
			<audio id="sonidoKultrum" src="imagenes/tambor.mp3"></audio>
			<!-- <a-asset-item id="kultrum" src="Objetos/kultrum/kultrum4.gltf"></a-asset-item> -->
			<a-asset-item id="kultrum" src="Objetos/kultrum/kultrum.obj"></a-asset-item>
			<a-asset-item id="kultrum-mtl" src="Objetos/kultrum/kultrum.mtl"></a-asset-item>
			<a-asset-item id="vasija" src="Objetos/vasija/vasija2.gltf"></a-asset-item>
			<!--<a-asset-item id="hacha" src="Objetos/hacha/hacha3_1.gltf"></a-asset-item>-->
			<a-asset-item id="hacha" src="Objetos/hacha/Hacha.obj"></a-asset-item>
			<a-asset-item id="hacha-mtl" src="Objetos/hacha/Hacha.mtl"></a-asset-item>
			<!--<a-asset-item id="molino" src="Objetos/molino/molino.gltf"></a-asset-item>-->
			<a-asset-item id="molino" src="Objetos/molino/molino.obj"></a-asset-item>
			<a-asset-item id="molino-mtl" src="Objetos/molino/molino.mtl"></a-asset-item>
			<!--<a-asset-item id="pintura" src="Objetos/pintura/pintura.gltf"></a-asset-item>-->
			<a-asset-item id="pintura" src="Objetos/pintura/pintura.obj"></a-asset-item>
			<a-asset-item id="pintura-mtl" src="Objetos/pintura/pintura.mtl"></a-asset-item>
			<a-asset-item id="pipa" src="Objetos/pipa/pipa2_2.gltf"></a-asset-item>
			<!--<a-asset-item id="puntasFlecha" src="Objetos/puntaFlecha/PuntasFlecha.gltf"></a-asset-item>-->
			<a-asset-item id="puntasFlecha" src="Objetos/puntaFlecha/puntasFlecha.obj"></a-asset-item>
			<a-asset-item id="puntasFlecha-mtl" src="Objetos/puntaFlecha/puntasFlecha.mtl"></a-asset-item>
			<a-asset-item id="tapahue" src="Objetos/tapahue/tapahue.gltf"></a-asset-item>
		</a-assets>
		
		<!-- MARCADORES -->
		
		<a-marker preset='custom' type='pattern' id='3000' url='marcadores/kultrum.patt' registerevents>

			<a-entity gltf-model="#kultrum" sound="src: #sonidoKultrum"></a-entity>
			<!--<a-entity obj-model="obj: #kultrum; mtl: #kultrum-mtl"></a-entity>-->

		</a-marker>
		
		<a-marker preset='custom' type='pattern' id='4000' url='marcadores/kultrumColor.patt' registerevents>

			<a-entity gltf-model="#kultrum" sound="src: #sonidoKultrum"></a-entity>

		</a-marker>
		
		<a-marker preset='custom' type='pattern' id='3100' url='marcadores/vasija.patt' registerevents>
		
			<a-entity gltf-model="#vasija"></a-entity>
		
		</a-marker>

		<a-marker preset='custom' type='pattern' id='4100' url='marcadores/vasijaColor.patt' registerevents>
		
			<a-entity gltf-model="#vasija"></a-entity>
		
		</a-marker>

		<a-marker preset='custom' type='pattern' id='3200' url='marcadores/hacha.patt' registerevents>

			<!--<a-entity scale="2 2 2" gltf-model="#hacha"></a-entity>-->
			<a-entity scale="2 2 2" obj-model="obj: #hacha; mtl: #hacha-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='4200' url='marcadores/hachaColor.patt' registerevents>

			<!--<a-entity scale="2 2 2"gltf-model="#hacha"></a-entity>-->
			<a-entity scale="2 2 2" obj-model="obj: #hacha; mtl: #hacha-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='3300' url='marcadores/molino.patt' registerevents>

			<!--<a-entity scale="1.5 1.5 1.5" gltf-model="#molino"></a-entity>-->
			<a-entity obj-model="obj: #molino; mtl: #molino-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='4300' url='marcadores/molinoColor.patt' registerevents>

			<!--<a-entity scale="1.5 1.5 1.5" gltf-model="#molino"></a-entity>-->
			<a-entity obj-model="obj: #molino; mtl: #molino-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='3400' url='marcadores/pintura.patt' registerevents>

			<!--<a-entity scale="0.75 0.75 0.75" gltf-model="#pintura"></a-entity>-->
			<a-entity scale="0.75 0.75 0.75" obj-model="obj: #pintura; mtl: #pintura-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='4400' url='marcadores/pinturaColor.patt' registerevents>

			<!--<a-entity scale="0.75 0.75 0.75" gltf-model="#pintura"></a-entity>-->
			<a-entity scale="0.75 0.75 0.75" obj-model="obj: #pintura; mtl: #pintura-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='3500' url='marcadores/pipa.patt' registerevents>

			<a-entity scale="4 4 4" gltf-model="#pipa"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='4500' url='marcadores/pipaColor.patt' registerevents>

			<a-entity scale="4 4 4" gltf-model="#pipa"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='3600' url='marcadores/puntasFlecha.patt' registerevents>

			<!--<a-entity gltf-model="#puntasFlecha"></a-entity>-->
			<a-entity obj-model="obj: #puntasFlecha; mtl: #puntasFlecha-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='4600' url='marcadores/puntasFlechaColor.patt' registerevents>

			<!--<a-entity gltf-model="#puntasFlecha"></a-entity>-->
			<a-entity obj-model="obj: #puntasFlecha; mtl: #puntasFlecha-mtl"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='3700' url='marcadores/tapahue.patt' registerevents>

			<a-entity scale="0.5 0.5 0.5" gltf-model="#tapahue"></a-entity>

		</a-marker>

		<a-marker preset='custom' type='pattern' id='4700' url='marcadores/tapahueColor.patt' registerevents>

			<a-entity scale="0.5 0.5 0.5" gltf-model="#tapahue"></a-entity>

		</a-marker>

		<a-entity camera>
			<a-cursor material="opacity:  0;"></a-cursor>
		</a-entity>
		
		<!-- OPCIONES E IMAGENES -->

		<button class="button botonMenu" onClick="location='https://norbertolarrosa.github.io/'">
			<p id="volver"></p>
		</button>

		<div class="infos">

			<div id="universidad-button">
				<a href="#">
					<input width="100%" type="image" src="imagenes/LOGO UNCO.png" alt="Logo UNCO">
					</input>
				</a>
			</div>
			
			<div id="barraObj">
				<div>
					<p style="font-size: large;" id="infoV">----------</p>
				</div>
			</div>
		
			<div id="info-button">
				<a href="#">
					<input width="100%" type="image" src="imagenes/LOGO MGA.png" alt="Logo Museo Gregorio Álvarez">
					</input>
				</a>
			</div>

		</div>
	</a-scene>

</body>

</html>
